// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource sqlite {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "sqlite"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id        String    @id @default(cuid())
  firstName String    @default("")
  lastName  String    @default("")
  email     String    @unique @default("")
  password  String
  isAdmin   Boolean   @default(false)
  createdAt DateTime? @default(now())
}

model Country {
  id      String  @id @default(cuid())
  name    String  @default("")
  code    String  @unique @default("")
  isdCode String  @default("")
  states  State[] @relation("State_country")
  phones  Phone[] @relation("Phone_country")
}

model State {
  id        String   @id @default(cuid())
  name      String   @default("")
  code      String   @unique @default("")
  country   Country? @relation("State_country", fields: [countryId], references: [id])
  countryId String?  @map("country")
  cities    City[]   @relation("City_state")

  @@index([countryId])
}

model City {
  id      String       @id @default(cuid())
  name    String       @default("")
  state   State?       @relation("City_state", fields: [stateId], references: [id])
  stateId String?      @map("state")
  areas   PostalCode[] @relation("PostalCode_city")

  @@index([stateId])
}

model PostalCode {
  id                      String    @id @default(cuid())
  area                    String    @default("")
  code                    String    @unique @default("")
  city                    City?     @relation("PostalCode_city", fields: [cityId], references: [id])
  cityId                  String?   @map("city")
  from_Address_postalCode Address[] @relation("Address_postalCode")

  @@index([cityId])
}

model Address {
  id           String      @id @default(cuid())
  house        String      @default("")
  street       String      @default("")
  landmark     String      @default("")
  postalCode   PostalCode? @relation("Address_postalCode", fields: [postalCodeId], references: [id])
  postalCodeId String?     @map("postalCode")
  person       Person?     @relation("Address_person", fields: [personId], references: [id])
  personId     String?     @map("person")

  @@index([postalCodeId])
  @@index([personId])
}

model Email {
  id      String   @id @default(cuid())
  address String   @default("")
  person  Person[] @relation("Email_person")
}

model Phone {
  id        String   @id @default(cuid())
  number    String   @default("")
  country   Country? @relation("Phone_country", fields: [countryId], references: [id])
  countryId String?  @map("country")
  person    Person[] @relation("Person_phones")

  @@index([countryId])
}

model Person {
  id         String    @id @default(cuid())
  firstName  String    @default("")
  middleName String    @default("")
  lastName   String    @default("")
  dob        String?
  gender     String    @default("")
  phones     Phone[]   @relation("Person_phones")
  emails     Email[]   @relation("Email_person")
  addresses  Address[] @relation("Address_person")
  createdAt  DateTime? @default(now())
}
